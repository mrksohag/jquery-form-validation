/**
 * Form validation by custom jquery
 * @author mrksohag <engr.mrksohag@gmail.com>
 * @author_url http://mrksohag.me
 */
if("undefined"==typeof jQuery)throw new Error("SM Validation JavaScript needs jQuery JS file.");var smValidator;function ValidateEmail(e){return!!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,5})+$/.test(e)}function datemonthValiate(e){return!!/^[0-9]{2}\/[0-9]{4}$/.test(e)}function visaCard(e){var a=e.replace(/-/g,"");a=a.replace(/ /g,"");return!!/^[4]{1}[0-9]{15}$/.test(a)}function masterCard(e){var a=e.replace(/-/g,"");a=a.replace(/ /g,"");return!(!/^[5]{1}[0-9]{15}$/.test(a)&&!/^[2]{1}[0-9]{15}$/.test(a))}function phonenumber(e){var a=e.replaceAll("-","");a=a.replaceAll(" ","");return!!/^[0-9]{11}$/.test(a)}function isUrlValid(e){return null!=e.match(/(http(s)?:\/\/.)?(www\.)?[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/g)}function showError(e,a){e.parent("div").addClass("has-error"),e.siblings(".help-block").length>0?e.siblings(".help-block").html(a[0]):e.after('<i class="help-block">'+a[0]+"</i>")}function removeError(e){e.parent("div").removeClass("has-error"),e.siblings(".help-block").length>0&&e.siblings(".help-block").remove()}$(document).ajaxError(function(){return $(".log").text("Triggered ajaxError handler."),!1}),function(e){smValidator=function(a,r,t,n){var s=!1,i=!0;function l(a,r){var t=0;if("object"==jQuery.type(r))for(var n in r){var o=r[n],c=[],u=e("#"+a).find('[name="'+n+'"]');if("object"==jQuery.type(o))for(var d in o){var f=o[d];if("object"==jQuery.type(f))if(u.length>0||"count"==d||"reCaptcha"==d){if("count"!=d&&"reCaptcha"!=d){if("undefined"!=typeof CKEDITOR)for(var h in CKEDITOR.instances)CKEDITOR.instances[h].updateElement();var p=u.val(),g=p.length}if("notEmpty"==d)g<1&&(t++,c.push(f.message));else if(g>0&&"stringLength"==d)(g<f.min||f.max&&g>f.max)&&(t++,c.push(f.message));else if(g>0&&"match"==d)e("#"+a).find('[name="'+f.field+'"]').val()!=p&&(t++,c.push(f.message));else if(g>0&&"email"==d)void 0!==o.notEmpty?ValidateEmail(p)||(t++,c.push(f.message)):g>0&&(ValidateEmail(p)||(t++,c.push(f.message)));else if(g>0&&"mobile"==d)void 0!==o.notEmpty?phonenumber(p)||(t++,c.push(f.message)):g>0&&(phonenumber(p)||(t++,c.push(f.message)));else if(g>0&&"count"==d){var m=0;"checkbox"==f.type?e("."+f.countClass).each(function(){e(this).is(":checked")&&m++}):"class"==f.type&&e(f.selector).each(function(){m++}),m<f.min?(t++,e("#"+f.massageDivId+"_warning").length>0?e("#"+f.massageDivId+"_warning").html('<i class="help-block">'+f.message+"</i>"):e("#"+f.massageDivId).after('<div id="'+f.massageDivId+'_warning" class="has-error"><i class="help-block">'+f.message+"</i></div>")):e("#"+f.massageDivId+"_warning").remove()}else if(g>0&&"remote"==d){var v=n+"="+p;e.ajax({url:f.url,type:f.type,async:!1,data:v,success:function(e){1==parseInt(e)&&(t++,c.push(f.message))},error:function(e){c.push(f.message)}})}else if(g>0&&"itsDependable"==d){if(g>0&&f.rules[p]){var b=f.rules[p];t+=l(a,b)}}else if(g>0&&"visaCard"==d)visaCard(p)||(t++,c.push(f.message));else if(g>0&&"masterCard"==d)masterCard(p)||(t++,c.push(f.message));else if(g>0&&"cardDateMonth"==d)datemonthValiate(p)||(t++,c.push(f.message));else if(g>0&&"url"==d)isUrlValid(p)||(t++,c.push(f.message));else if("reCaptcha"==d&&e(".g-recaptcha").length>0){s=!0;var y=grecaptcha.getResponse();u=e(".g-recaptcha").children("div"),0==y.length&&(i=!1,c.push(f.message))}}}c.length>0?showError(u,c):removeError(u)}return t}for(var o in r)e("#"+a+' [name="'+o+'"]').on("keyup",function(){var t=e(this).attr("name"),n={};n[t]=r[t],l(a,n)}),e("#"+a+' [name="'+o+'"]').on("change",function(){var t=e(this).attr("name"),n={};n[t]=r[t],l(a,n)});if(2==t){e(".loading").length>0&&e(".loading").fadeOut();var c=l(a,r);return s&&grecaptcha.reset(),!(!i||c>0)}3==t?e("#"+a).on("submit",function(a){e(".loading").length>0&&e(".loading").fadeIn();var t=e(this).attr("id"),c=l(t,r);if(s&&grecaptcha.reset(),e("#"+t).find('[type="submit"]').prop("disabled",!0),i&&0===c){var u=e("#"+t).serialize(),d=e("#"+t).attr("method"),f=e("#"+t).attr("action");e.ajax({type:d,url:f,data:u,success:function(a){if(e("#"+t).find('[type="submit"]').removeAttr("disabled"),"object"==jQuery.type(r))for(o in r)e("#"+t).find('[name="'+o+'"]').val("");e(".loading").length>0&&e(".loading").fadeOut(),n({isSuccess:!0,response:a})},error:function(a){e("#"+t).find('[type="submit"]').removeAttr("disabled");var r=a.responseJSON.errors,n="";for(var s in r){var i=e("#"+t).find('[name="'+s+'"]');if(i.length>0)showError(i,r[s]);else n+=r[s][0]+" \n"}""!=n&&alert(n),e(".loading").length>0&&e(".loading").fadeOut()}})}else e("#"+t).find('[type="submit"]').removeAttr("disabled"),e(".loading").length>0&&e(".loading").fadeOut();return!1}):e("#"+a).on("submit",function(e){var t=l(a,r);if(s&&grecaptcha.reset(),!i||t>0)return!1})}}(jQuery),String.prototype.replaceAll=function(e,a){return this.replace(new RegExp(e,"g"),a)};